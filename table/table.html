<!DOCTYPE html>
<html>
<head>
  <style>
    table {
        border-collapse: collapse;
        width: 100%;
        margin-bottom: 20px;
    }
    th, td {
        border: 1px solid #000;
        padding: 8px;
        text-align: left;
    }

    th {
        background-color: #3ba768;
        color:aliceblue;
    }
   table tr:hover {background-color: #a6f0b3;}
    tr:nth-child(even) {
        background-color: #f2f2f2;
       
    }
</style>
</head>
<h1>RESTAURANT LIST</h1>
<body>
  <table>
    <thead>
      <th>Sr. No.</th>
      <th>Suplier Name</th>
      <th>Food Quantity<th>
      <th>Address</th>
      <th>Contact</th>
    </thead>
    <tbody id="tbody1"></tbody>
   
  </table>

  <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-firestore.js"></script>
  <!-- <script defer src="../index.js"></script> -->

  <script id="mainScript">
    const firebaseConfig = {
    apiKey: "AIzaSyDZ3yY7V4-n1dllJ0SlMiobPD8RI_U0ol0",
    authDomain: "notfound-c69e2.firebaseapp.com",
    databaseURL: "https://notfound-c69e2-default-rtdb.firebaseio.com",
    projectId: "notfound-c69e2",
    storageBucket: "notfound-c69e2.appspot.com",
    messagingSenderId: "783172064273",
    appId: "1:783172064273:web:5ff163577de51c19ca4db0",
    measurementId: "G-YMWN4S34JR"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  const firestore = firebase.firestore();

  function GetAllDataOnce(){
    firestore.collection('users').get().then((querySnapshot)=>{
      var users = [];
      querySnapshot.forEach(doc =>{
        users.push(doc.data());
      });
    });
  }

  function GetAllDataRealtime(){
    firestore.collection('users').onSnapshot((querySnapshot)=>{
      var users = [];
      querySnapshot.forEach(doc =>{
        users.push(doc.data());
      });
    });
  }


  //filling the table

  var srno=0;
  var tbody = document.getElementById('tbody1');
  function AddItemToTable(name,food,address){
    var trow = document.createElement('tr');
    var td1 = document.createElement('td');
    var td2 = document.createElement('td');
    var td3 = document.createElement('td');
    var td4 = document.createElement('td');
    var td5 = document.createElement('td');

    td1.innerHTML = ++srno;
    td2.innerHTML = name;
    td4.innerHTML = food;
    td3.innerHTML = address;
    td5.innerHTML = phone;

    trow.appendChild(td1);
    trow.appendChild(td2);
    trow.appendChild(td3);
    trow.appendChild(td4);
    trow.appendChild(td4);

    tbody.appendChild(trow);

function AddAllItemsOnTheTable(UsersList){
  srno = 0;
  tbody.innerHTML = "";
  UsersList.forEach(element =>{
    AddAllItemsOnTheTable(element.name,element.food,element.address,element.phone);
  });
}

  }

  window.onload = GetAllDataRealtime;
  </script>
</body>
</html>